import{r as p,d as x,e as h,b as j,a as u,j as s,L as N,F as v}from"./index-Bl8eRJL1.js";import{f as e}from"./FomatoPrecio-C9Oljihr.js";import"./react-BtP0CW_r.js";import"./firebase-BHF8Xcpu.js";import"./sweetalert2-BQIkj5Wb.js";function $(){const{productosCarrito:r,eliminarProducto:t,vaciarCarrito:o}=p.useContext(x),{currentUser:l}=h(),i=j(),{admin:d}=u(),n=r.reduce((a,c)=>a+c.price*c.cantidad,0),m=()=>{l||d?i("/pagos"):i("/login",{state:{from:"/pagos"}})};return s.jsxs("div",{children:[s.jsxs("div",{className:"carrito-wrapper",children:[s.jsxs("div",{className:"carrito-container",children:[s.jsxs("div",{className:"carrito-titulos",children:[s.jsx("span",{children:"Imagen"}),s.jsx("span",{children:"Descripción"}),s.jsx("span",{className:"precio-producto-valor",children:"Cantidad"}),s.jsx("span",{className:"precio-producto-valor",children:"Unitario"}),s.jsx("span",{children:"Total"}),s.jsx("span",{children:"Eliminar"})]}),r.length>0?r.map(a=>s.jsxs("div",{className:"carrito-producto",children:[s.jsx("img",{className:"carrito-imagen",src:a.avatar,alt:a.name}),s.jsx("h2",{className:"carrito-nombre",children:a.name}),s.jsxs("span",{children:["x ",a.cantidad]}),s.jsxs("span",{className:"precio-producto-valor",children:[s.jsxs("span",{className:"precio-desktop",children:["$ ",e(a.price,!0)]}),s.jsxs("span",{className:"precio-mobile",children:["$ ",e(a.price,!1)]})]}),s.jsxs("span",{children:[s.jsxs("span",{className:"precio-desktop",children:["$ ",e(a.price*a.cantidad,!0)]}),s.jsxs("span",{className:"precio-mobile",children:["$ ",e(a.price*a.cantidad,!1)]})]}),s.jsx("button",{onClick:()=>t(a.id),children:"x"})]},a.id)):s.jsx("p",{children:"Tu carrito esta vacío"})]}),s.jsxs("div",{className:"carrito-resumen",children:[s.jsx("h3",{children:"Resumen"}),s.jsxs("p",{className:"subtotal",children:["Subtotal: $ ",e(n)]}),s.jsxs("p",{className:"total",children:["Total: $ ",e(n)]}),s.jsxs("div",{className:"botones-resumen-container",children:[s.jsx(N,{to:"/productos",style:{width:"50%"},children:s.jsx("button",{className:"boton-resumen seguir-comprando",children:"Seguir comprando"})}),s.jsx("button",{className:"boton-resumen vaciar-carrito",onClick:o,children:"Vaciar carrito"})]}),s.jsx("button",{onClick:m,className:"boton-resumen ir-a-pagar",children:"Ir a pagar"})]})]}),s.jsx(v,{})]})}export{$ as default};
