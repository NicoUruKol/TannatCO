import{r as t,e as E,b as g,u as w,j as e,l as y,m as C,L as S,n as l,f as k}from"./index-Cojq-lPT.js";import"./react-DJG_os-6.js";import"./firebase-B8nZo91v.js";import"./sweetalert2-DWO__QVt.js";function P(){var c;const[o,u]=t.useState(""),[n,d]=t.useState(""),{login:m}=E(),p=g(),h=((c=w().state)==null?void 0:c.from)||"/",[i,x]=t.useState(!1),[j,b]=t.useState(!1),f=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),v=async s=>{if(s.preventDefault(),!f(o)){l("El formato del correo es inválido.");return}try{await m(o,n),k("¡Éxito!","Has iniciado sesión correctamente.","success"),setTimeout(()=>p(h,{replace:!0}),1500)}catch(r){console.error("Error de Firebase:",r);let a="";switch(r.code){case"auth/invalid-credential":a="Email o contraseña incorrectos.",b(!0);break;case"auth/invalid-email":a="El formato del correo es inválido.";break;case"auth/too-many-requests":a="Demasiados intentos fallidos. Espera un momento.";break;case"auth/user-disabled":a="Este usuario ha sido deshabilitado.";break;default:a=`Error desconocido: ${r.code}`;break}l(`Error al iniciar sesión: ${a}`)}};return e.jsxs("form",{className:"login-container",onSubmit:v,children:[e.jsx("h2",{children:"Iniciar sesión"}),e.jsx("label",{children:"Usuario:"}),e.jsx("div",{className:"login-input-wrapper",children:e.jsx("input",{type:"email",value:o,placeholder:"tucorreo@ejemplo.com",onChange:s=>u(s.target.value),required:!0})}),e.jsx("label",{children:"Contraseña:"}),e.jsxs("div",{className:"login-input-wrapper has-eye",children:[e.jsx("input",{type:i?"text":"password",value:n,placeholder:"Mínimo 6 caracteres",onChange:s=>d(s.target.value),required:!0}),e.jsx("span",{className:"login-eye",onClick:()=>x(!i),children:i?e.jsx(y,{}):e.jsx(C,{})})]}),e.jsxs("div",{children:[e.jsx("button",{type:"submit",children:"Iniciar sesión"}),j&&e.jsxs("div",{className:"crear-usuario-container",children:[e.jsx("p",{children:"¿No tenés cuenta o escribiste mal tu usuario?"}),e.jsx(S,{to:"/Registro",children:e.jsx("button",{type:"button",children:"Crear usuario"})})]})]})]})}export{P as default};
