import{r as e,C,c as b,j as r,L as u,F as v,d as N}from"./index-CeHGLPEB.js";import{f as E}from"./FomatoPrecio-B_Wz0Nci.js";import"./react-DJG_os-6.js";import"./firebase-B8nZo91v.js";import"./sweetalert2-DWO__QVt.js";function L({}){const{agregarAlCarrito:m}=e.useContext(C),{id:s}=b(),[o,x]=e.useState(null),[t,n]=e.useState(1),[f,c]=e.useState(!0),[i,d]=e.useState(null);e.useEffect(()=>{fetch("https://68100d9127f2fdac24101f8a.mockapi.io/productos").then(a=>a.json()).then(a=>{const l=a.find(g=>g.id===s);l?x(l):d("Producto no encontrado."),c(!1)}).catch(a=>{console.log("Error:",a),d("Hubo un error al obtener el producto."),c(!1)})},[s]);function p(){t<1||(N("Agregado!!!","El producto ha sido agregado con exito!!!","success"),m({...o,cantidad:t}))}function h(){n(t+1)}function j(){t>1&&n(t-1)}return f?r.jsx("p",{children:"Cargando producto..."}):i?r.jsx("p",{children:i}):o?r.jsxs("div",{children:[r.jsxs("div",{className:"detalle-container",children:[r.jsx("img",{className:"detalle-imagen",src:o.avatar,alt:o.name}),r.jsxs("div",{className:"detalle-info",children:[r.jsx("h2",{children:o.name}),r.jsx("p",{children:o.description}),r.jsxs("p",{className:"detalle-info-peso",children:["$ ",E(o.price)]}),r.jsxs("div",{children:[r.jsx("button",{onClick:j,className:"agregar-boton-signo",children:"-"}),r.jsx("span",{style:{margin:"0 10px"},children:t}),r.jsx("button",{onClick:h,className:"agregar-boton-signo",children:"+"})]}),r.jsx("button",{className:"agregar-boton",onClick:p,children:"Agregar al carrito"}),r.jsxs("div",{children:[r.jsx(u,{to:"/productos",children:r.jsx("button",{className:"mover-boton-1",children:"Volver a productos"})}),r.jsx(u,{to:"/carrito",children:r.jsx("button",{className:"mover-boton-2",children:"Ir al carrito"})})]})]})]}),r.jsx("div",{children:r.jsx(v,{})})]}):null}export{L as default};
